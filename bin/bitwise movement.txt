8r n b q k b n 
7p p p p p p p p
6
5P P       r   P
4
3
2    P P P P P  
1R N B Q K B N R
 a b c d e f g h
 
81 1 1 1 1 1 1 0
71 1 1 1 1 1 1 1
60 0 0 0 0 0 0 0
51 1 0 0 0 1 0 1
40 0 0 0 0 0 0 0
30 0 0 0 0 0 0 0
20 0 1 1 1 1 1 0
11 1 1 1 1 1 1 1
 a b c d e f g h

rank5:
(o)ccupied = 11000101
(s)liding piece (black r) = 00000100
2s = s<<1 = 00001000
o - 2s = 11000101 - 00001000 = 10111101
left moves = o^(o-2s) = 01111000 (11000101 xor 10111101 = 01111000)
not = ~
right moves = o^ ~(~o-~2s)
~o = 00111010
~2s = 11110111
~o - ~2s = 01000011
~(01000011) = 10111100 = ~(~o-~2s)
o^ ~(~o-~2s) = 11000101^10111100 = 01111001


